
model "base_agent";

roleset ( { name : "leader" },
          { name : "follower" } );

agentset ( { name : "main_agent", role : "leader" },
           { name : "another", role : "follower" },
           { name : "another_one", role : "follower" } );

environment ( { center : 0 } );

attributes ( variable );

behaviour test {
  with all {
    print("hello");
  }
}

function my_fun(a,b,c) {
    var x = a*b+c;
    return x;
}

behaviour main {
  with all {
    var a = 3 + 2;
    print("ciao", a, this.name, this.role, this);
    if (a == 4) {
      print("CINQUE!");
      print("sei sette otto!");
    }
    else {
      print("ELSE!!");
    }
  }
  #
  with one {
    var c = 3 + 5;
    var d = c + 10;
    print(this, c, d);
    this.variable = d;
  }
  #
  with all {
      print("final", this.variable);
      var a = 0;
      while (a < 10) {
          print(this.name, a);
          a = a + 1;
      }
  }
  with one {
      var x = my_fun(1,2,3);
      print(x);
  }
}

